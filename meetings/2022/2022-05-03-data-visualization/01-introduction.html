<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Looking at Data</title>
    <meta charset="utf-8" />
    <meta name="author" content="Gavin Simpson" />
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="css/all.css" type="text/css" />
    <link rel="stylesheet" href="css/slides.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: inverse, middle, left, my-title-slide, title-slide

.title[
# Looking at Data
]
.subtitle[
## Data Visualization: Part 1
]
.author[
### Gavin Simpson
]

---




# Learning objectives

At the end of this topic you should be able to

* Understand the basic principles of data visualization

* Understand how human brains perceive colour

* Know which visual attributes or channels are most effective

* Know how to represent different kinds of data visually

* Basic understanding of how to produce visualizations using the *ggplot2* package

---

# Readings

* Wickham (2016) [*ggplot2*: Elegant Graphics for Data Analysis](https://link.springer.com/book/10.1007/978-3-319-24277-4). Springer.
* Wilke (2019) [Fundamentals of Data Visualization](https://clauswilke.com/dataviz/). O'Reilly.
* Healy (2019) [Data Visualization; a practical introduction](https://socviz.co/). Princeton University Press.


---

# Data Visualization

Some data visualizations are better than others

---
class: inverse
background-image: url('./resources/emily-morter-188019-unsplash.jpg')
background-size: cover

# Why?

---

# Data Visualization

Some data visualizations are better than others

* Taste
    * The eye is in the beholder
* Choice of data
* Human visual perception
---

# What makes bad figures?

**Aesthetic**

Tacky, tasteless, ugly, hodgepodge, inconsistent design

**Substantive**

Graph has problems because of the data being presented

**Perceptual**

Inspite of good taste and good data, a graph may be *confusing* or *misleading* because of how people perceive and process what they are looking at

---

# Always plot your data

.row[

.col-6[

* Anscombe's quartet
* Scatterplot
    * 2 quantities mapped to x and y axis
* `\(x\)` and `\(y\)` in each set have the same
    * mean
    * variance
* Regression lines have same `\(\hat{\beta}\)`
* `\(x\)` and `\(y\)` have the same correlation
]
.col-6[

![](01-introduction_files/figure-html/anscombe-1.svg)&lt;!-- --&gt;

]

]

---

# Visualising data

.center[![:scale 55%](./resources/jan-vanhove-correlations.png)]

---

# Visualising data

.center[![:scale 75%](./resources/monster.jpg)]

---

# Visualising data

.center[![](./resources/Minard.png)]

---
class: inverse
background-image: url('./resources/franki-chamaki-694946-unsplash.jpg')
background-size: cover

# 

---

# Bad data

.center[![:scale 80%](./resources/new-york-times-how-stable-are-democracies.png)]

---

# Bad data

.center[![](./resources/erik-voeten-washington-post.png)]

---

# Bad Data

.center[![](./resources/bad-excel-chart.png)]

---

# Perception

.row[

.col-6[

![](./resources/hermann-grid.png)

]

.col-6[

![](./resources/mach-bands.png)

]

]

--

![](./resources/mach-bands-animation.gif)

???
Herman grid effect: ghostly blobs appear at the intersections in the grid, but
only if you aren't looking directly at the intersection

Mach bands: Along the boundary between adjacent shades of grey in the Mach bands
illusion, lateral inhibition makes the darker area falsely appear even darker
and the lighter area falsely appear even lighter.

Our visual system is constructing a representation of what is being looked at
based more on *relative* differences in the luminance (brightness) of the bars,
rather than the absolute value.

---

# Perception

Which is darker, **A** or **B**?

.center[![](./resources/fig5-14-a.png)]


???

Visual system is attracted to edges and we assess contrast and brightness
relatively rather than in absolute terms.

Edward Adelson's checker-shadow illusion

Perception views the tile in shadow as being lighter

---

# Perception

Which is darker, **A** or **B**?

.row[

.col-6[
.center[![](./resources/fig5-14-a.png)]
]

.col-6[
.center[![](./resources/fig5-14-b.png)]
]

]

---

# Perception

What colour is the dress? Blue &amp; Black or White &amp; Gold?

.center[![](./resources/the-dress.png)]

--

The dress was actually Blue and Black

---

# Perception

Which is darker, **A** or **B**?

.row[

.col-6[
.center[![](./resources/the-dress.png)]
]

.col-6[
.center[![](./resources/Wikipe-tan_wearing_The_Dress_reduced.svg)]
]

]

---
class: inverse
background-image: url('./resources/isaac-smith-1182056-unsplash.jpg')
background-size: cover

# Mapping

---

# Mapping

Drawing a graph involves mapping data to visual attributes &amp;mdash; some more effective than others

.center[![:scale 65%](./resources/fig5-1.png)]

---

# Accuracy of Mappings

.center[![:scale 70%](./resources/fig5-8.png)]

---
background-image: url('./resources/sharon-pittaway-98257-unsplash.jpg')
background-size: cover

# Colour

---
class: inverse
background-image: url('./resources/michael-maasen-587273-unsplash.jpg')
background-size: cover

# Colour models

---

# Colour models

.row[

.col-6[

* Red Green Blue &amp;mdash; RGB
    * Hexadecimal (base 16)
    * '0'&amp;ndash;'9' with 'A'&amp;ndash;'F' for 10-15
    * Encode 256 values of each colour
    * In R `"#AA6633"`
    * TVs, Digital cameras, etc
* Cyan Yellow Magenta Black &amp;mdash; CYMK
    * Covers a much wider range of colours than RGB
    * Magazines, printing

]

.col-6[

* Hue Chroma Luminance &amp;mdash; HCL
    * Hue &amp;mdash; colour
    * Chroma &amp;mdash; how much of the colour
    * Luminance &amp;mdash; brightness
    * Designed to reflect human colour perception
* Hue Saturation Lightness &amp;mdash; HSL
]

]

---

# Colour palettes

A colour palette is the colour scheme or selection used to represent data or design on a graph

Want more than a numerical mapping &amp;mdash; want perceptually uniform mappings

.row[

.col-4[

* discrete

* sequential

* diverging

]

.col-8[

.center[
![](01-introduction_files/figure-html/discrete-pal-1.svg)&lt;!-- --&gt;
![](01-introduction_files/figure-html/sequential-pal-1.svg)&lt;!-- --&gt;
![](01-introduction_files/figure-html/diverging-pal-1.svg)&lt;!-- --&gt;
]

]
]

---

# Discrete palettes

.row[

.col-6[

* Categorical data

* Easily distinguishable

* Favour no one colour

* Vary H, constant C &amp; L

]

.col-6[

.center[
![](01-introduction_files/figure-html/hcl-discrete-spectrum-1.svg)&lt;!-- --&gt;
]
]
]

---

# Sequential palettes

.row[

.col-6[

* Continuous data

* Brightness &amp; intensity of colour vary

* Vary C &amp; L, constant H

]

.col-6[

.center[
![](01-introduction_files/figure-html/hcl-sequential-spectrum-1.svg)&lt;!-- --&gt;
]

]

]

---

# Sequential multi-hue palettes

.row[

.col-6[

* Continuous data

* Can vary everything if careful

* Vary H, C &amp; L

]

.col-6[

.center[
![](01-introduction_files/figure-html/hcl-sequential-spectrum-2-1.svg)&lt;!-- --&gt;
]

]

]

---

# Diverging palettes

.row[

.col-6[

* Continuous data where mid-point means something (0)

* Single hue in each arm

* C &amp; L are balanced in each arm

* C goes to 0 at mid-point


]

.col-6[

.center[
![](01-introduction_files/figure-html/hcl-diverging-spectrum-1.svg)&lt;!-- --&gt;
]

]

]

---

# Rainbow

.center[
![](01-introduction_files/figure-html/rainbow-swatch-1.svg)&lt;!-- --&gt;
]

---

# #endrainbow

.row[

.col-6[

* Luminance is not linear or even monotonic

* Colour vision deficiency

]

.col-6[

.center[
![](01-introduction_files/figure-html/rainbow-spectrum-1.svg)&lt;!-- --&gt;
]

]

]

---

# #endrainbow

.center[
![](01-introduction_files/figure-html/rainbow-desat-swatch-1.svg)&lt;!-- --&gt;
]

---

# #endrainbow

.center[
![](01-introduction_files/figure-html/rainbow-deutan-swatch-1.svg)&lt;!-- --&gt;
]

---

# Colour vision deficiency

Decreased ability to see colour or differences in colour

.row[

.col-6[

* Red-Green CVD is sex-linked
* Gene carried on X chromosome
* Blue-Yellow CVD is not; chromosome 7
* -anomaly vs -anopia

.center[![](./resources/Color_blindness.png)]

]

.col-6[

.center[![](./resources/Ishihara_9.png)]

]

]

---

# Pop

Can you see the green squares?

.center[![:scale 50%](./resources/c02-fig7.jpg)]

---

# Preattentive pop-out

Some shapes, colours, angles more easy to spot

Can happen before (or almost before) before consciously looking at something

.row[

.col-6[

.center[![](./resources/c02-fig8.jpg)]

]

.col-6[

.center[![](./resources/c02-fig9.jpg)]

]

]

.row[

.col-6[

.center[![](./resources/c02-fig10.jpg)]

]

.col-6[

.center[![](./resources/c02-fig11.jpg)]

]

]

---

# Pop &amp;mdash; find the blue circle

&lt;img src="01-introduction_files/figure-html/pop-1-1.svg" height="550" /&gt;

---
# Bad graphs

.center[![:scale 60%](./resources/left-click-bad.png)]

---

# Bad graphs

.center[![:scale 60%](./resources/left-click-better.png)]

---

# Bad graphs

.center[![:scale 50%](./resources/brazils-golden-oldie-blowout-bad.png)]

---

# Bad graphs

.center[![:scale 50%](./resources/brazils-golden-oldie-blowout-better.png)]

---

# Bad graphs

.center[![:scale 50%](./resources/fit-as-a-butchers-dog-bad.png)]

---

# Bad graphs

.center[![:scale 50%](./resources/fit-as-a-butchers-dog-better.png)]
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="macros.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
